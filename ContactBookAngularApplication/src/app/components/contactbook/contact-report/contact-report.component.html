<div class="container" style="background-color: white;">
    <h1 class="text-center">Contact Report</h1>
    <div *ngIf="loading" class="loader-container">
        <img src="assets/loaderImage.gif" alt="Loading..." class="loader-image">
    </div>
    <div class="row">

        <div class="col-lg-3 mt-3">
            <div class="form-outline" style="width: 100%;">
                <label class="form-label" for="country"><b>Country:</b></label>
                <select id="country" name="country" class="form-control" [(ngModel)]="countryId"
                    (change)="onCountryChange($event)" style="border-color: #7B57CB;" required>
                    <option value=0>----- Select Country -----</option>
                    <option *ngFor="let country of countries" [value]="country.countryId">{{ country.countryName }}
                    </option>
                </select>
            </div>
        </div>

        <div class="col-lg-3 mt-3">
            <div class="form-outline" style="width: 100%;">
                <label class="form-label" for="state"><b>State:</b></label>
                <select id="state" name="state" class="form-control" [(ngModel)]="stateId"
                    (change)="onStateChange($event)" style="border-color: #7B57CB;" required>
                    <option value=0>----- Select State -----</option>
                    <option *ngFor="let state of states" [value]="state.stateId">{{ state.stateName }}</option>
                </select>
            </div>
        </div>

        <div class="col-lg-3 mt-3">
            <div class="form-outline" style="width: 100%;">
                <label class="form-label" for="gender"><b>Gender:</b></label>
                <select id="gender" name="gender" class="form-control" [(ngModel)]="gender"
                    style="border-color: #7B57CB;" (change)="onGenderChange($event)" required>
                    <option value="">----- Select Gender -----</option>
                    <option value="M">Male</option>
                    <option value="F">Female</option>
                </select>
            </div>
        </div>

        <div class="col-lg-3 mt-3">
            <div class="form-outline" style="width: 100%;">
                <label class="form-label" for="month"><b>Month:</b></label>
                <select id="month" name="month" class="form-control" [(ngModel)]="monthId"
                    (change)="onMonthChange($event)" style="border-color: #7B57CB;" required>
                    <option value=0>----- Select Month -----</option>
                    <option *ngFor="let month of months; let i = index" [value]="i+1">{{ month }}</option>
                </select>
            </div>
        </div>


    </div>


    <div class="mt-3" *ngIf="totalCountsFromCountry != null && totalCountsFromCountry > 0">
        <h4 style="font-size: medium; text-align: center;">Total Contacts Count of country: {{totalCountsFromCountry}}</h4>
    </div>

    <div class="mt-3" *ngIf="totalCountsFromCountry != null && totalCountsFromCountry == 0">
        <h4 style="font-size: medium; text-align: center;">No Record found from country</h4>
    </div>
    
    <div class="mt-3" *ngIf="totalCountsFromGender != null && totalCountsFromGender > 0">
        <h4 style="font-size: medium; text-align: center;">Total Contacts Count of gender: {{totalCountsFromGender}}</h4>
    </div>

    <div class="mt-3" *ngIf="totalCountsFromGender != null && totalCountsFromGender == 0">
        <h4 style="font-size: medium; text-align: center;">No Record found from gender</h4>
    </div>
   

    <div class="table-responsive mt-3" *ngIf="contactdetails != null && contactdetails.length >= 0">
        <table class="table table-striped books-table" style="font-size: smaller; text-align: center;">
            <thead>
                <tr>
                    <th>Sr. No</th>
                    <th>Name</th>
                    <th>Phone Number</th>
                    <th>Company</th>
                    <th>Birthdate</th>
                    <th>Gender</th>
                </tr>
            </thead>
            <tbody *ngIf="contactdetails != null && contactdetails.length > 0">
                <tr *ngFor="let contact of contactdetails;let i = index">
                    <td>{{i+1}}</td>
                    <td>{{contact.name}}</td>
                    <td>{{contact.phoneNumber}}</td>
                    <td>{{contact.company}}</td>
                    <td>{{contact.birthDate}}</td>
                    <td *ngIf="contact.gender == 'M'">Male</td>
                    <td *ngIf="contact.gender == 'F'">Female</td>
                </tr>
            </tbody>

            <tbody *ngIf="contactdetails != null && contactdetails.length == 0">
                <tr>
                   <td colspan="7">No record found</td>
                </tr>
            </tbody>
          
        </table>

    </div>
</div>